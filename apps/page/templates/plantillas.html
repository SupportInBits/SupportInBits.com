{% extends "base.html" %} 
{% block title %}
Plantillas | Support In Bits
{% endblock %}
{% load static %} 
{% block content %}
<div class="container" id="container-plantillas">
   <h1 class="text-center">Plantillas accesibles</h1>
   <p class="fs-3 text-start">En esta página encontrarás plantillas accesibles con un lector de pantalla incorporado. Cada una de las plantillas
    cuentan con un código que puedes copiar para usarlo donde queres. Tener en cuenta que se usa bootstrap para dar formato a las plantillas,
    sin embargo el lector está implementado con JavaScript puro.
   </p>
   <article id="menu-Restaurante">
      <div id="controls" class="d-flex justify-content-around flex-wrap m-5">
         <button class="btn-primary rounded p-2 align-self-center col-md-4" id="readAll">Leer todo el menú</button>
         <button class="btn-primary rounded p-2 align-self-center col-md-4" id="stopReading">Detener lectura</button>
         <div class="speed-controls col-12 d-flex flex-wrap mt-5">
            <p class="col-6 align-self-center fs-2 text-end" >Velocidad de lectura</p>
            <p class="speed-display col-6 col-md-3 fs-2 p-2 align-self-center text-start" id="speedValue">1x</p>
            <div class="col-12 d-flex justify-content-around flex-wrap">
              <button class="speed-button btn-primary rounded p-2 align-self-center col-12 col-md-4 fs-4" id="decreaseSpeed">+ velocidad</button>
              <button class="speed-button btn-primary rounded p-2 align-self-center col-12 col-md-4 fs-4" id="increaseSpeed">- velocidad</button>
            </div>
         </div>
      </div>
      <h1>Menú del Restaurante</h1>
      <section class="menu-section" aria-label="Entradas">
         



        <div class="table-responsive menu-item">
          <table class="table align-middle">
            <thead>
              <tr>
                <th>Plato</th>
                <th>Descripción</th>
                <th>Precio</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Tamal Criollo</td>
                <td>Masa de harina de maíz aderezado con especias, acompañado con aceituna, cerdo o pollo, huevo y salsa criolla</td>
                <td>6.00€</td>
              </tr>

              <tr>
                <td>Tamal Verde</td>
                <td>Masa de harina de maíz aderezado con cilantro, especias, acompañado con pollo y salsa criolla</td>
                <td>6.00€</td>
              </tr>
              <tr>
                <td>Осора</td>
                <td>Crema de salsa a base de huacatay, leche, galleta maría, cacahuete, queso y ají amarillo servido sobre patata cocida</td>
                <td>6.00€</td>
              </tr>
              <tr>
                <td>Aguadito de Pollo</td>
                <td>Caldo de pollo y menudencia, arroz, zanahoria, guisantes y pasta de cilantro</td>
                <td>6.00€</td>
              </tr>
              <tr>
                <td>Caldo de Gallina</td>
                <td>Caldo de gallina con tallarín, patata y huevo</td>
                <td>7.00€</td>
              </tr>
              <tr>
                <td>Papa Rellena</td>
                <td>Masa de patata, rellena de carne picada, cebolla, pasas, huevo, aceituna, acompañada con salsa criolla</td>
                <td>6.00€</td>
              </tr>
              <tr>
                <td>aquí</td>
                <td>puedes colocar más platos...</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>

      </section>
      <!-- Más secciones del menú... -->
      <script>
         // Configuración de velocidad
         let currentRate = 1;
         const minRate = 0.5;
         const maxRate = 2;
         
         // Actualizar display de velocidad
         function updateSpeedDisplay() {
             document.getElementById('speedValue').textContent = currentRate.toFixed(1) + 'x';
             localStorage.setItem('speechRate', currentRate); // Guardar preferencia
         }
         
         // Cargar velocidad guardada
         if(localStorage.getItem('speechRate')) {
             currentRate = parseFloat(localStorage.getItem('speechRate'));
             updateSpeedDisplay();
         }
         
         // Modificar función leerTexto
         function leerTexto(texto) {
             if ('speechSynthesis' in window) {
                 window.speechSynthesis.cancel();
                 
                 const utterance = new SpeechSynthesisUtterance();
                 utterance.text = texto;
                 utterance.lang = 'es-ES';
                 utterance.rate = currentRate; // Usar velocidad actual
                 
                 window.speechSynthesis.speak(utterance);
             } else {
                 alert('Lo siento, tu navegador no soporta la función de lectura de voz.');
             }
         }
         
         // Eventos para controles de velocidad
         document.getElementById('increaseSpeed').addEventListener('click', function() {
             if(currentRate < maxRate) {
                 currentRate += 0.1;
                 updateSpeedDisplay();
             }
         });
         
         document.getElementById('decreaseSpeed').addEventListener('click', function() {
             if(currentRate > minRate) {
                 currentRate -= 0.1;
                 updateSpeedDisplay();
             }
         });
         
         
         // Leer todo el menú
         document.getElementById('readAll').addEventListener('click', function() {
           const menuText = document.getElementById('menu-Restaurante').innerText;
           leerTexto(menuText);
         });
         
         // Detener la lectura
         document.getElementById('stopReading').addEventListener('click', function() {
           window.speechSynthesis.cancel();
         });
         
         
      </script>    
   </article>
</div>
{% endblock content%}